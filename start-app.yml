---
- name: Start Docker container
  hosts: all
  become: true
  gather_facts: no

  tasks:
    - name: Start Docker container
      docker_container:
        name: brianapley/edgenativeworkshop-app
        image: brianapley/edgenativeworkshop-app
        pull: true
        state: started
        recreate: true
        interactive: yes
        etc_hosts:
          nats.connected-cloud.io: 172.17.0.1
        tty: yes
        ports:
          - "443:443"
        volumes:
          - "may30b:/data"
          - "/etc:/certs"
          - "/tmp/db:/db"
